in vec2 UV;
out vec4 color;

uniform sampler2D Texture;
uniform bool IsDepthTexture;
uniform bool HasAlphaChannel;

void main()
{
  if (IsDepthTexture)
  {
    // Linearize Depth texture
    float Far = 50.0f;
    float Near = 0.1f;
    float ZDepth = texture(Texture, UV).x;
    color = vec4( vec3(Linearize(ZDepth, Far, Near)), 1 );
  }
  else
  {
    v4 C = texture(Texture, UV);

    color.rgb = C.rgb;
    color.a = 1.f;

    if (HasAlphaChannel)
    {
      color.a = C.a;
    }
  }
}
